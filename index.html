<!DOCTYPE html>
<html lang="pl">

<head>
  <meta name="description" content="Free Markdown Editor">
  <meta name="author" content="KPZ & Hype">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style/style.css">
  <link rel="stylesheet" href="style/hjis.css" />
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@3.0.7/marked.min.js"></script>
  <title>Inkwell</title>
</head>

<body>

  <textarea id="documentName" placeholder="Enter Document Name..." maxlength="40" cols="20" rows="1"></textarea>

  <div id="containter">
      <textarea placeholder="Enter Markdown Text Here..." id="editor" cols="55" name="message"></textarea>
      <div id="preview">
        <p id="markdownplaceholder" style="opacity: 60%; position: relative; top: -23px">Markdown Text Area...</p>
      </div>
    </form>
  </div>


  <div id="toolbar">
  <h1 style="text-align: center;">Inkwell</h1>
  <div id="createFile">
    <img onclick="save()" id="save" src="icons/save.png" alt="" width="36" height="36">
    <p style="font-size: x-large; padding-left: 50px; margin-top: -35px;">Save Document</p>
    <img onclick="loadFile()" src="icons/load.png" alt="" width="36" height="36">
    <p style="font-size: x-large; padding-left: 50px; margin-top: -35px;">Load File</p>
  </div>
  <a href="https://www.markdownguide.org/basic-syntax/" target="_blank" style="position: relative; padding-left: 20px; top: 70vb; font-size: x-large;">Markdown Documentation</a>
</div>

<button id="toggleToolbar"><img src="icons/arrow_right.png" alt=""></button>




  

  <script src="scripts/savesystem.js"></script>
  <script src="scripts/autogrow.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
  <script>
    var toggleToolbarButton = document.getElementById('toggleToolbar');
    var toolbar = document.getElementById('toolbar');

    toggleToolbarButton.addEventListener('click', function() {
      toolbar.classList.toggle('collapsed');
      toggleToolbarButton.classList.toggle('collapsed');
    });

    window.addEventListener('resize', function() {
      if (!toolbar.classList.contains('collapsed')) {
        toggleToolbarButton.classList.add('collapsed');
      }
    });

    window.onload = () => {
      const editor = document.getElementById("editor");
      const preview = document.getElementById("preview");
      if(editor.value == null){
        preview.firstChild.getElementById("markdownplaceholder").document.value = "Markdown Text Area...";
      }

      editor.addEventListener("input", () => {
        const markdown = editor.value;
        preview.innerHTML = marked(markdown);
        hljs.highlightAll();
      });
    };
  </script>

</body>

</html>